{% extends 'base_content.html' %}
{% block content %}
<div class="container">
    <div class="row">
        <h1>Current Requests</h1>
        <table class="table table-striped" style="text-align: center; vertical-align: top">
            <thead>
            <tr>
                <th>Date</th>
                <th>Student</th>
                <th>Availability</th>
                <th># of Lessons</th>
                <th>Frequency</th>
                <th>Duration</th>
                <th style="width: 25%">Further Information</th>
                <th style="width: 10%">Fulfilled</th>
            </tr>
            {% if unfulfilled_requests %}
                {% for request in unfulfilled_requests %}
                    <tr>
                        <td style="vertical-align: top">{{ request.date }}</td>
                        <td style="vertical-align: top">{{ request.user.first_name }} {{ request.user.last_name }} ({{ request.user.email}})</td>
                        <td style="vertical-align: top">
                            {% for day in request.availability.all %}
                                {{ day }}
                            {% endfor %}</td>
                        <td style="vertical-align: top">{{ request.number_of_lessons}}</td>
                        <td style="vertical-align: top">{{ request.interval_between_lessons }}</td>
                        <td style="vertical-align: top">{{ request.duration_of_lessons }}</td>
                        <td style="vertical-align: top">{{ request.further_information }}</td>
                        <td style="vertical-align: top"><a class="btn btn-primary" href="{%url 'fulfil_request' %}?date={{ request.raw_date }}" role="button">Fulfill</a></td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td style="text-align: left">No requests to load...</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            {% endif %}
            </thead>
        </table>
    </div>
    <div class="row">
        <h1>Past Requests</h1>
        <table class="table table-striped" style="text-align: center; vertical-align: top">
            <thead>
            <tr>
                <th>Date</th>
                <th>User</th>
                <th>Availability</th>
                <th># of Lessons</th>
                <th>Frequency</th>
                <th>Duration</th>
                <th style="width: 25%">Further Information</th>
                <th style="width: 10%">Fulfilled</th>
            </tr>
            {% if fulfilled_requests %}
                {% for request in fulfilled_requests %}
                    <tr>
                        <td style="vertical-align: top">{{ request.date }}</td>
                        <td style="vertical-align: top">{{ request.user.first_name }} {{ request.user.last_name }} ({{ request.user.email}})</td>
                        <td style="vertical-align: top">
                            {% for day in request.availability.all %}
                                {{ day }}
                            {% endfor %}</td>
                        <td style="vertical-align: top">{{ request.number_of_lessons}}</td>
                        <td style="vertical-align: top">{{ request.interval_between_lessons }}</td>
                        <td style="vertical-align: top">{{ request.duration_of_lessons }}</td>
                        <td style="vertical-align: top">{{ request.further_information }}</td>
                        <td style="vertical-align: top">Yes</td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td style="text-align: left">No requests to load...</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            {% endif %}
            </thead>
        </table>
    </div>
</div>

{% endblock %}